import './index.scss'
import LogoS from '../../../assets/logo-g.svg'
import { useEffect, useRef } from 'react'
import { gsap } from 'gsap-trial'
import { DrawSVGPlugin } from 'gsap-trial/DrawSVGPlugin'

const Logo = () => {
  const bgRef = useRef()
  const outlineLogoRef = useRef()
  const solidLogoRef = useRef()

  useEffect(() => {
    gsap.registerPlugin(DrawSVGPlugin)

    gsap
      .timeline()
      .to(bgRef.current, {
        duration: 1,
        opacity: 1,
      })

      .from(outlineLogoRef.current, {
        drawSVG: 0,
        duration: 8,
        lazy: false,
      })

    gsap.fromTo(
      solidLogoRef.current,
      {
        opacity: 0,
      },
      {
        opacity: 1,
        delay: 4,
        duration: 4,
      }
    )
  }, [])

  return (
    <div className="logo-container" ref={bgRef}>
      <img className="solid-logo" src={LogoS} alt="S" ref={solidLogoRef} />

      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="266"
        height="272"
        viewBox="0 0 266 272"
        fill="none"
      >
        <path
          ref={outlineLogoRef}
          className="svg-container"
          d="M236.584 211.376L245.033 230.029L187.452 265.16C177.229 267.855 167.424 269.616 158.035 270.446C148.647 271.482 138.529 272 127.68 272C102.645 272 80.4259 266.715 61.0235 256.144C41.6212 245.574 26.6 231.066 15.96 212.619C5.32 193.966 0 172.825 0 149.197C0 124.947 7.92784 102.563 23.7835 82.0439C39.6392 61.3177 59.3545 45.0476 82.9294 33.2336C106.713 21.2124 129.245 15.2018 150.525 15.2018C163.46 15.2018 178.689 16.7563 196.214 19.8652C213.739 22.9741 226.569 26.2903 234.706 29.8138V103.806H205.289C186.93 68.5719 162.625 50.9546 132.374 50.9546C119.231 50.9546 107.235 54.5817 96.3859 61.8358C85.7459 69.09 77.2965 79.0386 71.0376 91.6816C64.7788 104.325 61.6494 118.522 61.6494 134.274C61.6494 152.72 64.6745 169.716 70.7247 185.261C76.9835 200.598 86.3718 212.93 98.8894 222.257C111.407 231.377 126.845 235.936 145.205 235.936C146.039 235.936 149.899 235.936 156.784 235.936C163.668 235.936 171.283 235.315 179.628 234.071V171.892L129.245 159.767L139.572 139.559H266V156.969L236.584 181.841V211.376Z M236.584 196.174L245.033 214.828L187.452 249.959C177.229 252.653 167.424 254.415 158.035 255.244C148.647 256.28 138.529 256.798 127.68 256.798C102.645 256.798 80.4259 251.513 61.0235 240.943C41.6212 230.372 26.6 215.864 15.96 197.418C5.32 178.764 0 157.623 0 133.995C0 109.745 7.92784 87.3611 23.7835 66.8422C39.6392 46.1159 59.3545 29.8458 82.9294 18.0318C106.713 6.01061 129.245 0 150.525 0C163.46 0 178.689 1.55447 196.214 4.66342C213.739 7.77235 226.569 11.0885 234.706 14.612V88.6047H205.289C186.93 53.3701 162.625 35.7528 132.374 35.7528C119.231 35.7528 107.235 39.3799 96.3859 46.6341C85.7459 53.8882 77.2965 63.8368 71.0376 76.4799C64.7788 89.1229 61.6494 103.32 61.6494 119.072C61.6494 137.519 64.6745 154.514 70.7247 170.059C76.9835 185.396 86.3718 197.728 98.8894 207.055C111.407 216.175 126.845 220.735 145.205 220.735C146.039 220.735 149.899 220.735 156.784 220.735C163.668 220.735 171.283 220.113 179.628 218.869V156.69L129.245 144.566L139.572 124.357H266V141.768L236.584 166.639V196.174Z"
          fill="none"
        />
      </svg>
    </div>
  )
}

export default Logo
